<!doctype html>
<html lang="ko">
    <head>
        <meta charset="utf-8" />
        <title>Maple M — 캐릭터 뷰어</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="/static/styles.css" />
        <!-- 커스텀 파비콘 제거(공식 아이콘만 사용 원칙) -->
        <script src="/static/app.js" defer></script>
    </head>
    <body>
        <header class="topbar">
            <h1>Maple M · 캐릭터 뷰어</h1>
            <div class="search">
                <select id="world" required>
                    <option value="" selected disabled>월드 선택</option>
                    <option>스카니아</option>
                    <option>아케인</option>
                    <option>크로아</option>
                    <option>엘리시움</option>
                    <option>루나</option>
                    <option>유니온</option>
                    <option>제니스</option>
                </select>
                <input id="q" type="text" placeholder="캐릭터명 또는 OCID" />
                <button id="btn">검색</button>

                <!-- Import from JSON: 파일 선택 라벨 + 숨김 input -->
                <label class="file-btn">
                    Import from JSON
                    <input id="import-json" type="file" accept="application/json" hidden />
                </label>

                <!-- 오프라인 배지: JSON 스냅샷 사용 중임을 표시/해제 -->
                <span id="offline-badge" class="pill hidden">
                    오프라인 모드
                    <button id="offline-clear" class="mini">해제</button>
                </span>
            </div>
        </header>

        <main id="main">
            <section id="status" class="status muted">
                월드를 선택하고 캐릭터명을 입력한 뒤 ‘검색’!
            </section>

            <section id="basic" class="card hidden">
                <div class="row">
                    <img id="char-img" class="avatar" alt="character" />
                    <div>
                        <h2>
                            <span id="name"></span>
                            <small id="job" class="pill"></small>
                        </h2>
                        <div class="meta">
                            <span id="world-label"></span> · Lv.<span id="level"></span>
                        </div>
                        <div class="meta small" id="times"></div>
                    </div>
                </div>
                <div class="stats-grid" id="stats-grid"></div>
            </section>

            <section id="symbols" class="card hidden">
                <h3>심볼</h3>
                <ul id="symbol-list" class="list"></ul>
            </section>

            <section id="equip" class="card hidden">
                <h3>장비</h3>
                <!-- 정렬된 그룹/슬롯을 여기에 렌더 -->
                <div id="equip-wrap" class="equip-wrap"></div>
            </section>

            <section id="sets" class="card hidden">
                <h3>세트 효과</h3>
                <ul id="set-list" class="list"></ul>
            </section>

            <section id="jewel" class="card hidden">
                <h3>보석(쥬얼)</h3>
                <div id="jewel-info" class="muted small"></div>
                <div id="jewel-grid" class="jewel-grid"></div>
            </section>

            <section id="android" class="card hidden">
                <h3>안드로이드/펫</h3>
                <div id="android-wrap"></div>
                <div id="pet-wrap"></div>
            </section>

            <section id="skills" class="card hidden">
                <h3>스킬 장착</h3>
                <ul id="skill-list" class="list taggy"></ul>
            </section>

            <section id="links" class="card hidden">
                <h3>링크 스킬</h3>
                <ul id="link-list" class="list"></ul>
            </section>

            <section id="vmatrix" class="card hidden">
                <h3>V 매트릭스</h3>
                <ul id="v-list" class="list taggy"></ul>
            </section>

            <!-- Export: 풋터 위, 스냅샷 저장 버튼 -->
            <section id="export" class="card center">
                <button id="export-json">Export to JSON</button>
                <div class="muted small" style="margin-top:6px;">
                    현재 화면의 데이터를 JSON 스냅샷으로 저장합니다.
                </div>
            </section>
        </main>

        <footer class="muted center small">
            데이터 제공: NEXON Open API · API 키는 서버에서만 사용됩니다.
        </footer>
    </body>
</html>
